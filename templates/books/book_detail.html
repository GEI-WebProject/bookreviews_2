{% extends 'base/base.html' %}
{% load static %}

{% block title %}
    {{ book.title }}
{% endblock title %}

{% block head %}
    <link rel="stylesheet" href="{% static 'css/book_detail.css' %}">
    <link rel="stylesheet" href="{% static 'css/review.css' %}">
{% endblock head %}

{% block content %}
    <!-- Book Information -->
    <div class="book-info">
        {% include 'books/book_entry.html' with detailed=True %}
    </div>

    <!-- Book Reviews -->
    <div class="book-reviews">
        <h2>Latest Reviews</h2>
        {% if book.reviews.all %}
            {% for review in latest_reviews %}
                {% include 'reviews/review_entry.html' %}
            {% endfor %}

        {% else %}
            <p>No reviews yet!</p>
        {% endif %}

        <!-- Show more reviews -->
        {% if book.reviews.count > num_reviews_shown %}
            <a href="{% url 'book_reviews' book.id %}">See more reviews</a>
        {% endif %}
    </div>
{% endblock content %}
